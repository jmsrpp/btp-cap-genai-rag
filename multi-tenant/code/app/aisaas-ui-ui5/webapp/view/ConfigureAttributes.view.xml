<mvc:View
    controllerName="aisaas.ui.controller.ConfigureAttributes"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:tnt="sap.tnt"
    xmlns:ux="sap.uxap"
    xmlns:core="sap.ui.core"
    core:require="{ formatter:
    'aisaas/ui/model/formatter' }">
    <Page title="Configure Attributes">
        <content>
            <VBox justifyContent="Center" alignItems="Center">
            <Table id="attributeTable" growing="true" growingThreshold="10" paste="onPaste" items="{att/Attributes}"
            delete="onDelete"  selectionChange="onSelectionChange">
                        <headerToolbar>
                            <OverflowToolbar id="otbSubheader">
                                <ToolbarSpacer />
                                <Button id="editButton" text="Edit" type="Transparent"
                                    press="onEdit"  visible="true"/>
                                <Button id="addButton" text="Add" type="Transparent"
                                    press="openAddAttributeDialog" visible="true"/>
                                <Button id="saveButton" text="Save the selected changes" type="Transparent"
                                    press="onSave" visible="false"/>
                                <Button id="cancelButton" text="Cancel" type="Transparent"
                                    press="onCancel" visible="false"/>
                                <Button id="deleteButton" text="Delete" type="Transparent"
                                    press="onDeleteMode" visible="false" />
                                <Button id="addColumnButton" text="Add Column" type="Transparent"
                                    press="" visible="false"/>
                            </OverflowToolbar>
                        </headerToolbar>
                
                        <columns>
                            <Column width="auto" minScreenWidth="Tablet" hAlign="Center">
                                <Text text="ID" />
                            </Column>
                            <Column width="auto" minScreenWidth="Tablet" hAlign="Center">
                                <Text text="Attribute" />
                            </Column>
                            <Column demandPopin="true" width="auto" hAlign="Center">
                                <Text text="Explanation" />
                            </Column>
                            <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
                                <Text text="Values" />
                            </Column>
                            
                        </columns>
                        <items>
                            <ColumnListItem vAlign="Middle" id="columnListitem">
                                <cells>
                                    <ObjectIdentifier  title="{att>id}" text="{att>ID}" />
                                    <Text text="{att>attribute}"/>
                                    <Text text="{att>explanation}"/>
                                    <Text text="{att>values/0}" />
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                <Button press=".onPressNavigate" text="Go Back" type="Transparent"/>
            </VBox>
        </content>
    </Page>
    <Dialog id="addAttributeDialog" title="Add Attribute" contentWidth="40%">
        <content>
            <VBox class="sapUiTinyMarginTopBottom sapUiSmallMarginBeginEnd">
                <Label text="Attribute" labelFor="attribute" showColon="true" />
                <Input id="attribute" value="{state>/attribute}" class="sapUiTinyMarginTop" placeholder="attribute" width="32%" />
                <Label text="Explanation" labelFor="explanation" class="sapUiSmallMarginTop" showColon="true" liveChange="setEnablementAddValueButton" change="setEnablementAddValueButton" />
                <Input id="explanation" value="{state>/explanation}" class="sapUiTinyMarginTop" placeholder="explanation" width="100%" liveChange="setEnablementAddValueButton" change="setEnablementAddValueButton"/>

                <VBox id="addedValues" class="sapUiTinyMarginEnd" visible="false" wrap="Wrap">
                    <Text text="Values: "/>
                    <List id="valuesToAddList"/>
                </VBox>
                <VBox visible="false" id="selectValueType">
                    <RadioButtonGroup id="radioButtonGroup" select="onSelectButton" class="sapUiMediumMarginEnd">
                        <RadioButton key="1" text="Range Value" />
                        <RadioButton key="2" text="Text Value" />
                        <RadioButton key="3" text="Combined Value" />
                    </RadioButtonGroup>
                    <Button text="Select Value Type" type="Emphasized" press="getSelectedItem" />
                </VBox>
                <VBox id="inputValuesTemplate" class="sapUiMediumMarginBottom"/>
                <Button text="Add Value" enabled="false" type="Transparent" press="onAddValue" class="sapUiMediumMarginBottom" id="addValueButton"/>
            </VBox>
        </content>
        <beginButton>
        </beginButton>
        <beginButton>
            <Button text="Cancel" type="Emphasized" press="onCancelValue" />
        </beginButton>
        <beginButton>
            <Button text="Add Attribute" type="Emphasized" press="onAddAttributes" id="addAttributeButton" />
        </beginButton>
    </Dialog>
</mvc:View>
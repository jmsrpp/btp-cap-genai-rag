<mvc:View
    controllerName="aisaas.ui.controller.ConfigureAttributes"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:tnt="sap.tnt"
    xmlns:ux="sap.uxap"
    xmlns:core="sap.ui.core"
    core:require="{ formatter:
    'aisaas/ui/model/formatter' }">
   
    <Page title="Configure Attributes">
        <content>
            <VBox  alignItems="Center" justifyContent="SpaceBetween">
                <Table id="attributeTable" growing="true" 
                growingThreshold="10" items="{att/Attributes}" selectionChange="onSelectionChange">
                    <headerToolbar>
                        <OverflowToolbar id="otbSubheader">
                            <ToolbarSpacer />
                            <Button id="addButton" text="{i18n>attribute.button.add}" type="Transparent"
                                press="openAddAttributeDialog"/>
                            <Button text="{i18n>attribute.button.delete}" type="Transparent"
                                press="onDeleteAttribute"/>
                            <Button id="cancelButton" text="{i18n>attribute.button.cancel}" type="Transparent"
                                press="onCancelDeleteMode" visible="false"/>
                        </OverflowToolbar>
                    </headerToolbar>
            
                    <columns>
                        <Column width="auto" minScreenWidth="Tablet" hAlign="Center">
                            <Text text="{i18n>attribute.columns.id}" />
                        </Column>
                        <Column width="auto" minScreenWidth="Tablet" hAlign="Center">
                            <Text text="{i18n>attribute.columns.attribute}" />
                        </Column>
                        <Column width="auto" minScreenWidth="Tablet" hAlign="Center">
                            <Text text="{i18n>attribute.columns.explanation} " />
                        </Column>
                        <Column minScreenWidth="Tablet" hAlign="Center" id="valueColumn" >
                            <Text text="{i18n>attribute.columns.values}" />
                        </Column>
        
                    </columns>

                    <ColumnListItem vAlign="Middle" id="columnListitem" >
                        <cells>
                            <ObjectIdentifier text="{att>ID}" />
                            <Text text="{att>attribute}" />
                            <Text text="{att>explanation}" />
                            <Text text="{ path: 'att>values', formatter: 'formatter.formatValues', targetType: 'any', mode : 'OneTime'}" />
                        </cells>
                    </ColumnListItem>

                    <ColumnListItem vAlign="Middle" id="inputListitem" >
                        <cells>
                            <Input value="{att>ID}" editable="false" />
                            <Input value="{att>attribute}" />
                            <Input value="{att>explanation}" />
                            <Input value="{ path: 'att>values', formatter: 'formatter.formatValues', targetType: 'any', mode : 'OneTime'}" />
                        </cells>
                    </ColumnListItem>

                </Table>
                <Button press=".onPressNavigate" text="{i18n>link.goBack}" type="Transparent"/>
            </VBox>
        </content>
        
    </Page>
    <Dialog id="addAttributeDialog" title="Add Attribute" contentWidth="40%">
        <content>
            <VBox class="sapUiTinyMarginTopBottom sapUiSmallMarginBeginEnd">
                <HBox wrap="Wrap">
                    <VBox width="30%" wrap="Wrap">
                        <Label text="{i18n>attribute.columns.attribute}" showColon="true" />
                        <Input id="attribute" value="{state>/attribute}" class="sapUiTinyMarginTop" placeholder="attribute" />
                    </VBox>
                    <VBox width="70%" wrap="Wrap">
                        <Label text="{i18n>attribute.columns.explanation}" class="" showColon="true"/>
                        <Input id="explanation" value="{state>/explanation}" class="sapUiTinyMarginTop" placeholder="explanation" liveChange="setAttributeEnabled" change="setAttributeEnabled"/>
                    </VBox>
                </HBox>
                <Title text="Value Types: " class="sapUiMediumMarginTop"/>
                <RadioButtonGroup id="radioButtonGroup" class="sapUiTinyMarginTop" select="selectButton" >
                    <RadioButton text="{i18n>attribute.radioButton.simpleText}" />
                    <RadioButton text="{i18n>attribute.radioButton.valueSet}" />
                    <RadioButton text="{i18n>attribute.radioButton.list}" />
                    <RadioButton text="{i18n>attribute.radioButton.number}" />
                </RadioButtonGroup>

                <VBox id="addedValues" visible="false" wrap="Wrap" >
                    <Title text="{i18n>attribute.columns.values}:"  class="sapUiMediumMarginTop"/>
                    <VBox alignItems="Center">
                        <Table id="valuesToAdd" width="100%" growing="true" growingThreshold="10" paste="onPaste" >
                            <columns>
                                <Column minScreenWidth="Tablet" hAlign="Center">
                                    <Text text="{i18n>attribute.values.label}" />
                                </Column>
                                <Column minScreenWidth="Tablet" hAlign="Center">
                                    <Text text="{i18n>attribute.columns.explanation}" />
                                </Column>
                            </columns>
                        </Table>
                    </VBox>
                </VBox>
                <VBox id="inputValuesTemplate" class="sapUiMediumMarginBottom" alignItems="Center"/>
            </VBox>
        </content>
        <beginButton alignItems="Center">
            <Button text="{i18n>attribute.button.cancel}" type="Emphasized" press="onCancelValue" />
            <Button text="{i18n>attribute.button.addAttribute}" type="Emphasized" press="onAddAttributes" id="addAttributeButton" enabled="false"/>
        </beginButton>
    </Dialog>
    
</mvc:View>